(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{k5W7:function(e,t,n){"use strict";n.r(t),n.d(t,"ArModule",function(){return w});var r=n("ofXK"),o=n("tyNb"),i=n("onrN"),c=n("fXoL"),s=n("1CsC"),a=n("DPYF"),u=n("dNgK"),b=n("jhN1"),l=n("bTqV"),f=n("NFeN");const h=["iframe"];let p=(()=>{class e{constructor(e,t,n,r){this.scene3DService=e,this.functionService=t,this._snackBar=n,this.sanitizer=r,this.urlArViewer="assets/embed-html/location-ar-viewer.html"}ngOnInit(){this.urlArViewerSafe=this.sanitizer.bypassSecurityTrustResourceUrl(this.urlArViewer)}ngAfterViewInit(){this.iframe.nativeElement.onload=()=>{this.scene3DService.fscene3D$.subscribe(e=>{e.exportGLTF().then(()=>this.iframe.nativeElement.contentWindow.setGLTFModel(URL.createObjectURL(e.glTFBlob))).catch(e=>console.error(e.message))}),navigator.geolocation.getCurrentPosition(e=>{this.iframe.nativeElement.contentWindow.setCoordsToModel(e.coords.latitude,e.coords.longitude)})}}ngOnDestroy(){this.scene3DService.fscene3D$.subscribe(e=>{delete e.glTFBlob})}}return e.\u0275fac=function(t){return new(t||e)(c.Nb(s.a),c.Nb(a.a),c.Nb(u.a),c.Nb(b.b))},e.\u0275cmp=c.Hb({type:e,selectors:[["app-ar-function"]],viewQuery:function(e,t){if(1&e&&c.Ec(h,1),2&e){let e;c.oc(e=c.cc())&&(t.iframe=e.first)}},decls:8,vars:1,consts:[["mat-fab","","color","primary","routerLink","/","aria-label","Example icon button with a delete icon",1,"custom-button"],["mat-fab","","color","warn","routerLink","/vr/function-grapher",1,"custom-button-2"],["viewBox","0 0 24 24",2,"width","24px","height","24px"],["fill","currentColor","d","M2,12A10,10 0 0,1 12,2A10,10 0 0,1 22,12A10,10 0 0,1 12,22A10,10 0 0,1 2,12M18,11H10L13.5,7.5L12.08,6.08L6.16,12L12.08,17.92L13.5,16.5L10,13H18V11Z"],[1,"ar-viewer",3,"src"],["iframe",""]],template:function(e,t){1&e&&(c.Tb(0,"button",0),c.Tb(1,"mat-icon"),c.Bc(2,"home"),c.Sb(),c.Sb(),c.Tb(3,"button",1),c.ec(),c.Tb(4,"svg",2),c.Ob(5,"path",3),c.Sb(),c.Sb(),c.dc(),c.Ob(6,"iframe",4,5)),2&e&&(c.Cb(6),c.kc("src",t.urlArViewerSafe,c.uc))},directives:[l.a,o.f,f.a],styles:[".custom-button[_ngcontent-%COMP%]{top:15px}.custom-button[_ngcontent-%COMP%], .custom-button-2[_ngcontent-%COMP%]{position:absolute;left:10px;z-index:5}.custom-button-2[_ngcontent-%COMP%]{top:80px}.ar-viewer[_ngcontent-%COMP%]{position:absolute;height:calc(100vh - 2px);width:calc(100vw - 2px);box-sizing:border-box}"]}),e})();var m=n("IzEk"),d=n("lJxs");const v=[{path:"ar-function-grapher",component:p,canActivate:[(()=>{class e{constructor(e,t){this.scene3DService=e,this.router=t}canActivate(e,t){return this.scene3DService.fscene3D$.pipe(Object(m.a)(1),Object(d.a)(e=>!!e||(console.error("Scene is null"),this.router.navigate(["/vr/function-grapher"]),!1)))}}return e.\u0275fac=function(t){return new(t||e)(c.Xb(s.a),c.Xb(o.e))},e.\u0275prov=c.Jb({token:e,factory:e.\u0275fac,providedIn:"root"}),e})()]}];let w=(()=>{class e{}return e.\u0275mod=c.Lb({type:e}),e.\u0275inj=c.Kb({factory:function(t){return new(t||e)},imports:[[r.c,i.a,o.g.forChild(v)]]}),e})()}}]);